{% extends "base.html" %}

{% block title %}Tasks - Multi-Agent Scheduler{% endblock %}

{% block content %}
<div class="tasks-page">
    <h2>ğŸ“ Task Management</h2>

    <div class="toolbar">
        <button class="btn btn-primary" onclick="createTask()">â• New Task</button>
        <button class="btn btn-secondary" onclick="refreshTasks()">ğŸ”„ Refresh</button>
    </div>

    <div class="tasks-list" id="tasksList">
        <p>Loading tasks...</p>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
async function refreshTasks() {
    const response = await fetch('/api/tasks');
    const data = await response.json();

    const tasksList = document.getElementById('tasksList');
    if (data.tasks.length === 0) {
        tasksList.innerHTML = '<p>No tasks found.</p>';
    } else {
        tasksList.innerHTML = data.tasks.map(task => `
            <div class="task-item">
                <h4>${task.id}</h4>
                <p>${task.description}</p>
                <span class="task-status">${task.status}</span>
            </div>
        `).join('');
    }
}

function createTask() {
    alert('Task creation not yet implemented');
}

// Load tasks on page load
refreshTasks();
</script>
{% endblock %}
